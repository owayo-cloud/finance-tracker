import{k as c,u as d,j as s,C as p,l as x,m as g,e as h,I as j,f as w,g as f,i as I,P as y,p as F,F as S,n as r,B as b,T as P}from"./index-CxzheAlx.js";function v(){const{loginMutation:n,error:o,resetError:i}=c(),{register:a,handleSubmit:l,formState:{errors:e,isSubmitting:t}}=d({mode:"onBlur",criteriaMode:"all",defaultValues:{username:"",password:""}}),m=async u=>{if(!t){i();try{await n.mutateAsync(u)}catch{}}};return s.jsxs(p,{as:"form",onSubmit:l(m),h:"100vh",maxW:"sm",alignItems:"stretch",justifyContent:"center",gap:4,centerContent:!0,children:[s.jsx(x,{src:g,alt:"FastAPI logo",height:"auto",maxW:"2xs",alignSelf:"center",mb:4}),s.jsx(h,{invalid:!!e.username,errorText:e.username?.message||!!o,children:s.jsx(j,{w:"100%",startElement:s.jsx(I,{}),children:s.jsx(w,{...a("username",{required:"Username is required",pattern:f}),placeholder:"Email",type:"email"})})}),s.jsx(y,{type:"password",startElement:s.jsx(S,{}),...a("password",F()),placeholder:"Password",errors:e}),s.jsx(r,{to:"/recover-password",className:"main-link",children:"Forgot Password?"}),s.jsx(b,{variant:"solid",type:"submit",loading:t,size:"md",children:"Log In"}),s.jsxs(P,{children:["Don't have an account?"," ",s.jsx(r,{to:"/signup",className:"main-link",children:"Sign Up"})]})]})}export{v as component};
