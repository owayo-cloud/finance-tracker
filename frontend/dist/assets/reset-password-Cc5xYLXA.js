import{u as p,a as x,b as h,h as f,c as P,j as s,C as g,T as j,P as a,p as y,F as n,d as S,B as R,L as _}from"./index-U_CCWg91.js";import{H as b}from"./index-B8T0vdp5.js";function B(){const{register:t,handleSubmit:i,getValues:c,reset:d,formState:{errors:o}}=p({mode:"onBlur",criteriaMode:"all",defaultValues:{new_password:""}}),{showSuccessToast:u}=P(),w=x(),l=h({mutationFn:async e=>{const r=new URLSearchParams(window.location.search).get("token");r&&await _.resetPassword({requestBody:{new_password:e.new_password,token:r}})},onSuccess:()=>{u("Password updated successfully."),d(),w({to:"/login"})},onError:e=>{f(e)}}),m=async e=>{l.mutate(e)};return s.jsxs(g,{as:"form",onSubmit:i(m),h:"100vh",maxW:"sm",alignItems:"stretch",justifyContent:"center",gap:4,centerContent:!0,children:[s.jsx(b,{size:"xl",color:"ui.main",textAlign:"center",mb:2,children:"Reset Password"}),s.jsx(j,{textAlign:"center",children:"Please enter your new password and confirm it to reset your password."}),s.jsx(a,{startElement:s.jsx(n,{}),type:"new_password",errors:o,...t("new_password",y()),placeholder:"New Password"}),s.jsx(a,{startElement:s.jsx(n,{}),type:"confirm_password",errors:o,...t("confirm_password",S(c)),placeholder:"Confirm Password"}),s.jsx(R,{variant:"solid",type:"submit",children:"Reset Password"})]})}export{B as component};
